{{ `<!-- partials/front.photocards.html  -->` | safeHTML }}
{{- if isset .Site.Params (lower "photocards" ) }}
{{- if .Site.Params.photocards.enable   }}
{{- if gt (len .Site.Data.photocards) 0 }}
<section id="photocards" class="w3-theme">
  <div class="w3-container w3-theme-l3">
    {{ `<!-- range .Site.Data.photocards -->` | safeHTML }}
    {{- range $index, $element := sort .Site.Data.photocards "weight" }}
    {{- if or (not $.Site.Params.photocards.limitTo) (lt $index $.Site.Params.photocards.limitTo) }}

      {{- if eq (mod $index 3) 0 }}
        {{ `<!-- modulo 0  -->` | safeHTML }}
      <div class="w3-cell-row w3-margin-top w3-margin-bottom">
      {{- end }}

        <div class="w3-cell w3-cell-bottom w3-margin-bottom w3-mobile w3-theme-l3 ">
          <div class="w3-card-4 w3-margin-right w3-round-xxlarge w3-theme-l1 {{ if and $element.animated $.Site.Params.photocards.animate }} {{ printf "%s %s %s%d %s" "animated" "photocards-animated" "photocards-animated" $index $element.animated }} {{ end }}">
            {{- if (and $element.image (not $element.url) )  }}
            <img src="{{ $element.image }}" alt="{{ $element.image }}" class="w3-round"                    style="width:100%">
            {{- end }} {{/* if and image not url */}}

            {{- if (and $element.image $element.url)  }}
            <a class="no-decoration" href="{{ $element.url | relURL }}{{ if $.Site.Params.uglyURLs }}{{$.Site.Params.uglyUrl}}{{ end }}">
              <img src="{{ $element.image }}" alt="{{ $element.image }}" class="w3-round w3-hover-opacity" style="width:100%">
              </a>
            {{- end -}} {{/* if and image url */}}
            <div class="w3-container w3-theme-l1">
              <h4>{{- $element.title }}</h4>
              {{ $element.description | markdownify }}
            </div>
          </div> <!-- w3-card -->
        </div>   <!-- w3-cell -->

        {{- if or (eq (mod $index 3) 2) (eq $index (sub (len $.Site.Data.features) 1 )) }}
          {{ `<!-- modulo 0 or last  -->` | safeHTML }}
      </div>     <!-- w3-cell-row -->
        {{- end }} {{/* if mod */}}

      {{- end }}   {{/* if limitTo */}}
    {{- end }}     {{/* range */}}

  </div>   <!-- w3-container -->
</section> <!-- photocards -->
{{- end }} {{/* if gt       */}}
{{- end }} {{/* if *.enable */}}
{{- end }} {{/* if isset    */}}


{{- /* emacs                 */}}
{{- /* Local variables:      */}}
{{- /* tab-width:        2   */}}
{{- /* indent-tabs-mode: nil */}}
{{- /* End:                  */}}
